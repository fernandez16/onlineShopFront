<div class="container-fluid">
  <div class="row">
    <div class="col bg-dark text-white">
      <h1 class="navbar-brand">Online Store</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-sm">
      <h3>Filter by Category:</h3>
    </div>
    <div class="col-sm my-auto">
      <form class="row">
        <ng-container *ngFor="let category of productsCategories">
          <div class="form-check mr-1">
            <input
              class="form-check-input"
              type="radio"
              name="selectedCategory"
              [value]="category"
              [(ngModel)]="selectedCategory"
            />
            <label class="form-check-label" for="html">{{ category }}</label>
          </div>
        </ng-container>
      </form>
    </div>
    <div class="col-sm">
      <button class="btn btn-danger" (click)="clearFilter()">
        Clear filter
      </button>
    </div>
  </div>
  <div>
    <table class="table table-striped table-bordered table-sm">
      <thead>
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Category</th>
          <th>Price</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let product of products">
          <tr
            *ngIf="
              filteringByCategory == false ||
              (filteringByCategory == true &&
                product.category == selectedCategory)
            "
          >
            <td>{{ product.id }}</td>
            <td>{{ product.category }}</td>
            <td>{{ product.name }}</td>
            <td>{{ product.price }}$</td>
            <td>
              <button
                class="btn btn-success"
                (click)="addToNewProductOrder(product)"
              >
                Add to cart
              </button>
            </td>
          </tr>
        </ng-container>
      </tbody>
    </table>
  </div>
  <div class="row">
    <h4>Current order:</h4>
    <ng-container *ngFor="let product of newProductOrder">
      <div class="row">{{ product.id }},</div>
    </ng-container>
    <button class="btn btn-danger" (click)="clearNewProductOrder()">
      Clear Order
    </button>
  </div>
</div>
